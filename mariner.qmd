---
# title: "Mariner: Explore the Hi-C's"
# institute: "BCB Student Seminar"
# author: "Eric Davis <br> Phanstiel Lab"
# date: "09-01-2022"
format:
  revealjs:
    incremental: true
    transition: none
    theme: css/custom.scss
    slide-number: true
    logo: images/bcb_logo.png
    footer: <https://github.com/EricSDavis/mariner>
editor: source
chalkboard: true
# center-title-slide: false
# title-slide-attributes:
#   data-background-image: "images/mariner_no_text_cropped.png"
#   data-background-opacity: "1"
---

## {auto-animate=true}

<div class="header">
  <img src="images/mariner_no_text_cropped.png" />
  <h1>Mariner</h1>
<div>

::: {.subheader .absolute left=40% top=65%}
BCB Student Seminar

Eric Davis

Phanstiel Lab

09/01/2022
:::

## {auto-animate=true}

<div class="header">
  <img src="images/mariner_no_text_cropped.png" />
  <h1 style="top:0px;margin-bottom:0px;color:#ff9865;">Mariner</h1>
  <h4>"Explore the Hi-C's"</h4>
<div>

::: {.subheader .absolute left=40% top=65%}
BCB Student Seminar

Eric Davis

Phanstiel Lab

09/01/2022
:::


<!-- Why do we need this? -->

## Why do we need this?

![](https://imgs.xkcd.com/comics/standards.png){.absolute width=70% top=15% left=15%}


<!-- Table Existing software -->

## Why do we need this? {.smaller}

<table class="tg">
<thead>
  <tr>
    <th class="tg-nrix" rowspan="2">Software</th>
    <th class="tg-nrix" rowspan="2">Language</th>
    <th class="tg-nrix" colspan="3">Extracting</th>
    <th class="tg-nrix" colspan="3">Aggregating</th>
    <th class="tg-nrix" rowspan="2">Range Operations</th>
    <th class="tg-nrix" rowspan="2">Differential Analysis</th>
    <th class="tg-nrix" rowspan="2">Visualization</th>
  </tr>
  <tr>
    <th class="tg-57iy">Pixels</th>
    <th class="tg-57iy">Matrices</th>
    <th class="tg-57iy">Custom</th>
    <th class="tg-57iy">Matrices</th>
    <th class="tg-57iy">TADs/Stripes</th>
    <th class="tg-57iy">Custom</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-nrix">[Juicer tools](https://github.com/aidenlab/juicer)</td>
    <td class="tg-nrix">
      ![](images/terminal.png){width=25px}
      ![](images/javalogo.svg){width=25px}
    </td>
    <td class="tg-nrix">✅</td>
    <td class="tg-nrix">✅</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">✅</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
  </tr>
  <tr>
    <td class="tg-57iy">
      [HiCmapTools](https://bmcbioinformatics.biomedcentral.com/track/pdf/10.1186/s12859-022-04589-y.pdf)
    </td>
    <td class="tg-57iy">![](images/terminal.png){width=25px}</td>
    <td class="tg-57iy">✅</td>
    <td class="tg-57iy">✅</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">✅</td>
    <td class="tg-57iy">✅</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">⚠️</td>
  </tr>
  <tr>
    <td class="tg-nrix">[coolpup.py](https://github.com/open2c/coolpuppy)</td>
    <td class="tg-nrix">![](images/pythonLogo.webp){width=25px}</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">✅</td>
    <td class="tg-nrix">✅</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">⚠️</td>
  </tr>
  <tr>
    <td class="tg-57iy">[Juice Box](https://aidenlab.org/juicebox/)</td>
    <td class="tg-57iy">![](images/chrome.png){width=25px}</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">✅</td>
  </tr>
  <tr>
    <td class="tg-nrix">[HiGlass](http://higlass.io/)</td>
    <td class="tg-nrix">![](images/chrome.png){width=25px}</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">❌</td>
    <td class="tg-nrix">✅</td>
  </tr>
  <tr>
    <td class="tg-57iy">
      [Bedtools](https://bedtools.readthedocs.io/en/latest/)
    </td>
    <td class="tg-57iy">
      ![](images/terminal.png){width=25px}
      ![](images/RLogo.webp){width=25px}
    </td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">✅</td>
    <td class="tg-57iy">❌</td>
    <td class="tg-57iy">❌</td>
  </tr>
</tbody>
</table>


- Hi-C tools are **dispersed** across
  programming languages/environments.
  
  - Steep learning curve
  - Difficult to create reproducible
    workflow.

- Some functionality is either
  impossible or impractical.


<!-- Bioconductor environment -->

## Bioconductor environment {auto-animate=true}

![](images/bioclogo.png){.absolute width="150px" top=0 right=0}

- Keep all analyses in R
- Classes for working with genomic data

. . . 

```{.r code-line-numbers="|3"}
## Genomic ranges
library(GenomicRanges)
GRanges("chr1:1-10000")

## Alternate method
GRanges(seqnames = c("chr1", "chr2"),
        ranges = IRanges(start = c(1, 30000),
                         end = c(10000, 60000)))
```

. . . 

```{r}
## Genomic ranges
library(GenomicRanges)
GRanges("chr1:1-10000")
```

. . .

## Bioconductor environment {auto-animate=true}

![](images/bioclogo.png){.absolute width="150px" top=0 right=0}

::: {.nonincremental}
- Keep all analyses in R
- Classes for working with genomic data
:::

```{.r code-line-numbers="6-9"}
## Genomic ranges
library(GenomicRanges)
GRanges("chr1:1-10000")

## Alternate method
GRanges(seqnames = c("chr1", "chr2"),
        ranges = IRanges(start = c(1, 30000),
                         end = c(10000, 60000)))
```

. . .

```{r}
## Alternate method
GRanges(seqnames = c("chr1", "chr2"),
        ranges = IRanges(start = c(1, 30000),
                         end = c(10000, 60000)))
```

. . .

## Bioconductor environment {auto-animate=true}

::: footer
:::

![](images/bioclogo.png){.absolute width="150px" top=0 right=0}

::: {.nonincremental}
- Keep all analyses in R
- Classes for working with genomic data
:::

```{.r code-line-numbers="6-9|12-13"}
## Genomic ranges
library(GenomicRanges)
GRanges("chr1:1-10000")

## Alternate method
GRanges(seqnames = c("chr1", "chr2"),
        ranges = IRanges(start = c(1, 30000),
                         end = c(10000, 60000)))

## Genomic interactions
library(InteractionSet)
GInteractions(anchor1 = GRanges("chr1:1-10000"),
              anchor2 = GRanges("chr1:1-10000"))
```
 
. . . 

```{r}
## Genomic interactions
library(InteractionSet)
GInteractions(anchor1 = GRanges("chr1:1-10000"),
              anchor2 = GRanges("chr1:1-10000"))
```


## Mariner functionality {.smallHeading}

::: columns
::: {.column width="50%"}
### Manipulating/Merging Anchors

-   binning
-   shifting
-   filtering
-   clustering
-   merging
:::

::: {.column width="50%"}
### Extracting/Aggregating Interactions
:::

::: {.column width="50%"}
### Generating Pairs from Ranges
:::

::: {.column width="50%"}
### Visualization
:::
:::
